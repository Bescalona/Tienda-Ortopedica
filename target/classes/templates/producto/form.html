<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="layout/layout :: head"></head>
<body>
	<header th:replace="layout/layout :: header"></header>
	<div class="container py-4">
		<div class="card bg-light">
			<div class="card-header bg-dark text-white" th:text="${titulo}"></div>
			<div class="card-body">
				<h4 class="card-title">
					<a class="btn btn-secondary btn-xs" th:href="@{'/producto/listar/'}" th:text="'&laquo; volver'"></a>
				</h4>
				
				<form th:action="@{/producto/form/}" th:object="${producto}"
					method="post" enctype="multipart/form-data">
					<div class="form-group row">
						<label class="col-sm-2 col-form-label" th:text="'Nombre'"></label>
						<div class="col-sm-6">
						<!-- th:errorclass / <div class="invalid-feedback"...... para mostrar el error en la vista -->
							<input type="text" th:field="*{nombre}" class="form-control" th:errorclass="'form-control is-invalid'"/>
							<div class="invalid-feedback" th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"></div>
						</div>
					</div> 
					 <div class="form-group row">
                        <label for="categoria" class="col-sm-2 col-form-label">Categoria</label>
                        <div class="col-sm-6">
                            <select class="form-control" name="categoria" id="categoria" onchange="updateProducto();">
                                
                            </select>
                        </div>
                    </div>
                    
					<div class="form-group row">
						<label class="col-sm-2 col-form-label" th:text="'DescripciÃ³n'"></label>
						<div class="col-sm-6">
							<!-- <input type="text" th:field="*{descripcion}" class="form-control" /> -->
							<textarea class="form-control" rows="3" th:field="*{descripcion}"></textarea>
						</div>
					</div>
					<div class="form-group row">
						<label class="col-sm-2 col-form-label" th:text="'Precio'"></label>
						<div class="col-sm-6">
						<!-- th:errorclass / <div class="invalid-feedback"...... para mostrar el error en la vista -->
							<input type="number" min="0" th:field="*{precio}" class="form-control" th:errorclass="'form-control is-invalid'"/>
							<div class="invalid-feedback" th:if="${#fields.hasErrors('precio')}" th:errors="*{precio}"></div>
						</div>
					</div> 
					<div class="form-group row">
						<label class="col-sm-2 col-form-label" th:text="'Stock'"></label>
						<div class="col-sm-6">
						<!-- th:errorclass / <div class="invalid-feedback"...... para mostrar el error en la vista -->
							<input type="number" min="0" th:field="*{stock}" class="form-control" th:errorclass="'form-control is-invalid'"/>
							<div class="invalid-feedback" th:if="${#fields.hasErrors('stock')}" th:errors="*{stock}"></div>
						</div>
					</div> 
					
					<div class="form-group row">
						<label for="file" class="col-sm-2 col-form-label">Foto</label>
						<div class="col-sm-6">
							<input type="file" name="file" class="form-control" />
						</div>
					</div>
					
					<div class="form-group row">
						<div class="col-sm-6">
							<input type="submit" th:value="${titulo}"
								class="btn btn-success" />
						</div>
					</div>
					
				</form>
			</div>
		</div>
	</div>
	<footer th:replace="layout/layout :: footer"></footer>
	<script th:replace="factura/js/autocomplete-productos :: javascript"></script>
	
</body>
</html>